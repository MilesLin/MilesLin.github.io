
<!DOCTYPE html>
<html lang="en,zh-tw,default">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Miles&#39;s Journey">
    <title>[Go] io.Writer 與 io.Reader 的來龍去脈 - Miles&#39;s Journey</title>
    <meta name="author" content="Miles">
    
        <meta name="keywords" content="Go">
    
    
        <link rel="icon" href="https://mileslin.github.io/assets/images/favicon.png">
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Miles","sameAs":["https://github.com/MilesLin","https://www.linkedin.com/in/miles-lin-328492138","https://app.pluralsight.com/profile/miles-lin","https://medium.com/@milesasp"],"image":"selfie.jpg"},"articleBody":"用 Go 處理 input/output 的時候，會很常看到 io.Reader 與 io.Writer，對於從物件導向語言轉過來寫 Go 的我來說，就覺得只是介面而已，所以一開始看到的時候感受不到他的優點，只是覺得程式的寫法就是這樣。\n但是總覺得案情並不單純，這 2 個介面會被這麼廣泛的應用一定有它的原因，而我看了很多書、網路文章還有影片，每一篇都是片段的解說，都沒有真正解答我的疑惑，所以就決定來寫個 io.Reader/io.Writer 系列，順便幫我自己搞清楚到底為什麼這 2 介面這麼強大。\n\nio.Reader/io.Writer 的源頭讓我們從 io.Reader/io.Writer 的源頭　package io 官方文件開始說起，package io 提供 I/O 原生的介面(interfaces)， 職責是提供抽象化介面並包裝(warp)現有的 I/O 操作與 package os 等等…的功能實作，再加上一些相關的 I/O 原生操作功能。\n因為這些介面和原生操作包裝了各種底層的實作，除非有另外說明，否則在平行處理下是不安全的。=&gt; 查看原文 package io\n再從 Mastering Go - Second Edition - 7. Go interfaces 一書有提到 io.Reader/io.Writer 用來處理資料的輸入和輸出，更具體地說， io.Reader 是用來讀取資料， io.Writer 是寫入各種資料。\n原文Two very common Go interfaces are io.Reader and io.Writer and they are used in file input and output operations. More specifically, io.Reader is used for reading from a file, whereas io.Writer is used for writing to a file of any type.\nMihalis TsoukalosGo interfaces\n所以從上面兩篇文原文的結論來看，只要是有關資料的輸入與輸出就跟 io.Reader/io.Writer 脫離不了關係。\n看看 io.Writerio.Writergo123type Writer interface {       Write(p []byte) (n int, err error) }\n讓我們來看更具體的 io.Writer 的文件是怎麼寫的。 \n實作這個介面的的時候會將資料寫入底層的資料流，如果寫入資料流的時候有發生錯誤，則要停止寫入並回傳 error。 在寫入的時候，不能修改傳入的資料 p []byte。 最後回傳的 n int 是表示寫入了多少資料，在沒有錯誤的情況下 n == len(p)。=&gt; 查看原文 golang.org io.Writer\n從 bytes.Buffer 理解如何實作 io.Writer看完 io.Writer 介面的定義後，讓我們從 Go Standard Library package bytes 看怎麼實作 io.Writer 的。bytes.Buffergo12345type Buffer struct {\tbuf      []byte // contents are the bytes buf[off : len(buf)]\toff      int    // read at &amp;buf[off], write at &amp;buf[len(buf)]\tlastRead readOp // last read operation, so that Unread* can work correctly.}\n在 package bytes 裡面，有一個 Buffer struct ，其中有一個欄位 buf []byte 是用來儲存寫入的資料，在執行 write 方法的時候，會將資料寫進 buf []byte。\n接下來來看 bytes.Buffer 是怎麼實作 io.Writer。\nBuffer.Writego12345678func (b *Buffer) Write(p []byte) (n int, err error) {\tb.lastRead = opInvalid\tm, ok := b.tryGrowByReslice(len(p))\tif !ok {\t\tm = b.grow(len(p))\t}\treturn copy(b.buf[m:], p), nil}\n=&gt; 查看 source code\n可以看到程式碼非常的簡單，前面的 b.tryGrowByReslice 與 b.grow 只是用來確保 buf byte[] 有足夠的容量可以完全寫入傳入的資料，而 m 則是要從 buf []byte 的哪一個位置開始寫入資料，第一次寫入的時候 m 會是 0。  在程式最後只是用 copy 的方式將資料寫入 buf []byte。\n使用方法也是非常簡單，只要執行 write 將資料傳進去，就會把資料寫入 buf []byte 了。writego1234func main() {\tvar b bytes.Buffer\tb.Write([]byte(\"Hello \"))}\n看看 io.Readerio.Readergo123type Reader interface {     Read(p []byte) (n int, err error) }\n接下來換到 io.Reader 的文件，\nRead 會將資料寫入 p []byte ，如果資料大於傳入的 len(p)，則只會寫入 len(p) 的內容，並在下次 Read 的時候繼續寫入剩下的資料到 p []byte，以此邏輯繼續。 如果資料小於 len(p)，則只會寫入能寫的資料，但是並不會調整 p []byte 的大小。 最後回傳 n int 是表示寫入的多少資料到 p []byte。\n在讀取結束的時候會有兩種情況，回傳 n, nil 然後在下一次讀取後回傳 0, io.EOF 或者是直接回傳 n, io.EOF。\nio.EOF = End of File\n\n=&gt; 查看原文 golang.org io.Reader]\n從 bytes.Buffer 理解如何實作 io.Reader接下來再來看 bytes.Buffer 怎麼實作 io.Reader 。 \n還記得剛剛說的 Buffer struct 嗎，這次我們要注意到兩個欄位。 一個是 buf []byte，在讀資料的時候會從 buf []byte 讀取。 一個是 off int 這是用來紀錄下次執行 Read 方法的時候，要從哪一個位置讀取。bytes.Buffergo12345type Buffer struct {\tbuf      []byte // contents are the bytes buf[off : len(buf)]\toff      int    // read at &amp;buf[off], write at &amp;buf[len(buf)]\tlastRead readOp // last read operation, so that Unread* can work correctly.}\n接下來來看 bytes.Buffer 是怎麼實作 io.Reader。\nbytes.Buffer.Readgo1234567891011121314151617func (b *Buffer) Read(p []byte) (n int, err error) {\tb.lastRead = opInvalid\tif b.empty() {\t\t// Buffer is empty, reset to recover space.\t\tb.Reset()\t\tif len(p) == 0 {\t\t\treturn 0, nil\t\t}\t\treturn 0, io.EOF\t}\tn = copy(p, b.buf[b.off:])\tb.off += n\tif n &gt; 0 {\t\tb.lastRead = opRead\t}\treturn n, nil}\n=&gt; 查看 source code\n這程式碼也非常的簡單，第一段 b.empty() 用來判斷如果 buf []byte 讀取完畢，就準備回傳 0, io.EOF，而這一段的 b.Reset() 是將 buf []byte 資料清空，這表示資料讀取完畢後，就不能再讀取了。 第二段則是一樣用 copy 將資料寫入 p []byte ，並且用 off 來記錄資料寫到哪裡了，下次讀取得時候從 off 這個位置開始讀取。\n使用方法也很簡單，如下列程式碼Readgo12345678910111213141516func main() {\tvar b bytes.Buffer\t// 寫入資料\tb.Write([]byte(\"Hello Miles\"))\t// 讀取資料\tbuf := make([]byte, 4)\tfor {\t\tn, err := b.Read(buf)\t\tif err == io.EOF {\t\t\tbreak\t\t}\t\tfmt.Println(string(buf[:n]))\t}}因為資料長度有 11，但是我只有給長度 4 的 buf ，所以他會分 3 次讀取，輸出如下圖。read output\n小結今天整理了這些資料，有找到一個簡單得邏輯就是 io.Writer 是將資料寫入資料流，今天實作得例子是從傳入的 p []byte 寫入到 buf []byte。 而 io.Reader 則是相反，從 buf []byte 寫入 p []byte。 並且都是用 copy 方式將資料寫入而已，實作上並不太複雜。\n所以實際上他的用法並不是太複雜，那問題來了，為什麼需要這種方式來讀取寫入資料呢? =&gt; 請看下篇文章\n","dateCreated":"2020-07-27T21:56:36+08:00","dateModified":"2020-07-29T23:21:04+08:00","datePublished":"2020-07-27T21:56:36+08:00","description":"用 Go 處理 input/output 的時候，會很常看到 io.Reader 與 io.Writer，對於從物件導向語言轉過來寫 Go 的我來說，就覺得只是介面而已，所以一開始看到的時候感受不到他的優點，只是覺得程式的寫法就是這樣。\n但是總覺得案情並不單純，這 2 個介面會被這麼廣泛的應用一定有它的原因，而我看了很多書、網路文章還有影片，每一篇都是片段的解說，都沒有真正解答我的疑惑，所以就決定來寫個 io.Reader/io.Writer 系列，順便幫我自己搞清楚到底為什麼這 2 介面這麼強大。","headline":"[Go] io.Writer 與 io.Reader 的來龍去脈","image":["gopher.jpg"],"mainEntityOfPage":{"@type":"WebPage","@id":"https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/"},"publisher":{"@type":"Organization","name":"Miles","sameAs":["https://github.com/MilesLin","https://www.linkedin.com/in/miles-lin-328492138","https://app.pluralsight.com/profile/miles-lin","https://medium.com/@milesasp"],"image":"selfie.jpg","logo":{"@type":"ImageObject","url":"selfie.jpg"}},"url":"https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/","keywords":"Go","thumbnailUrl":"gopher.jpg"}</script>
    <meta name="description" content="用 Go 處理 input/output 的時候，會很常看到 io.Reader 與 io.Writer，對於從物件導向語言轉過來寫 Go 的我來說，就覺得只是介面而已，所以一開始看到的時候感受不到他的優點，只是覺得程式的寫法就是這樣。 但是總覺得案情並不單純，這 2 個介面會被這麼廣泛的應用一定有它的原因，而我看了很多書、網路文章還有影片，每一篇都是片段的解說，都沒有真正解答我的疑惑，所以就決定">
<meta name="keywords" content="Go">
<meta property="og:type" content="blog">
<meta property="og:title" content="[Go] io.Writer 與 io.Reader 的來龍去脈">
<meta property="og:url" content="https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/index.html">
<meta property="og:site_name" content="Miles&#39;s Journey">
<meta property="og:description" content="用 Go 處理 input/output 的時候，會很常看到 io.Reader 與 io.Writer，對於從物件導向語言轉過來寫 Go 的我來說，就覺得只是介面而已，所以一開始看到的時候感受不到他的優點，只是覺得程式的寫法就是這樣。 但是總覺得案情並不單純，這 2 個介面會被這麼廣泛的應用一定有它的原因，而我看了很多書、網路文章還有影片，每一篇都是片段的解說，都沒有真正解答我的疑惑，所以就決定">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/read-output.jpg">
<meta property="og:updated_time" content="2020-07-29T15:21:04.448Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[Go] io.Writer 與 io.Reader 的來龍去脈">
<meta name="twitter:description" content="用 Go 處理 input/output 的時候，會很常看到 io.Reader 與 io.Writer，對於從物件導向語言轉過來寫 Go 的我來說，就覺得只是介面而已，所以一開始看到的時候感受不到他的優點，只是覺得程式的寫法就是這樣。 但是總覺得案情並不單純，這 2 個介面會被這麼廣泛的應用一定有它的原因，而我看了很多書、網路文章還有影片，每一篇都是片段的解說，都沒有真正解答我的疑惑，所以就決定">
<meta name="twitter:image" content="https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/read-output.jpg">
    
    
        
    
    
        <meta property="og:image" content="https://www.gravatar.com/avatar/05bae9a97d25f82a00f54f2e2b8a3320?s=640"/>
    
    
        <meta property="og:image" content="https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/gopher.jpg"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/gopher.jpg" />
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-c4ozcsklz4kht2pebhp44xorvyverh23toayhn7i6ubrpyedak24hv1v0hyd.min.css">
    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-90394318-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-90394318-1');
    </script>


    
    <script data-ad-client="ca-pub-5916182021497843" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Miles&#39;s Journey</a>
    </div>
    
        
            <a class="header-right-picture " href="#about">
        
        
            <img class="header-picture" src="https://www.gravatar.com/avatar/05bae9a97d25f82a00f54f2e2b8a3320?s=90" alt="Author&#39;s picture">
        
        </a>
    
</header>

            <!-- Define author's picture -->


    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/05bae9a97d25f82a00f54f2e2b8a3320?s=110" alt="Author&#39;s picture">
                </a>
                <h4 class="sidebar-profile-name">Miles</h4>
                
                    <h5 class="sidebar-profile-bio"><p>I’m a person who is enthusiastic about Coding, and that’s my job by the way.</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/ " title="Home">
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-categories" title="Categories">
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-tags" title="Tags">
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-archives" title="Archives">
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link open-algolia-search" href="#search" title="Search">
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Search</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="#about" title="About">
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://github.com/MilesLin" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://www.linkedin.com/in/miles-lin-328492138" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://app.pluralsight.com/profile/miles-lin" target="_blank" rel="noopener" title="Pluralsight">
                    
                        <i class="sidebar-button-icon far fa-play-circle" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Pluralsight</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://medium.com/@milesasp" target="_blank" rel="noopener" title="Medium">
                    
                        <i class="sidebar-button-icon fab fa-medium" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Medium</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/atom.xml" title="RSS">
                    
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            [Go] io.Writer 與 io.Reader 的來龍去脈
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2020-07-27T21:56:36+08:00">
	
		    Jul 27, 2020
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Go/">Go</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>用 Go 處理 <strong>input/output</strong> 的時候，會很常看到 <code>io.Reader</code> 與 <code>io.Writer</code>，對於從物件導向語言轉過來寫 Go 的我來說，就覺得只是介面而已，所以一開始看到的時候感受不到他的優點，只是覺得程式的寫法就是這樣。</p>
<p>但是總覺得案情並不單純，這 2 個介面會被這麼廣泛的應用一定有它的原因，而我看了很多書、網路文章還有影片，每一篇都是片段的解說，都沒有真正解答我的疑惑，所以就決定來寫個 <code>io.Reader/io.Writer</code> 系列，順便幫我自己搞清楚到底為什麼這 2 介面這麼強大。</p>
<a id="more"></a>
<h2 id="io-Reader-io-Writer-的源頭"><a href="#io-Reader-io-Writer-的源頭" class="headerlink" title="io.Reader/io.Writer 的源頭"></a>io.Reader/io.Writer 的源頭</h2><p>讓我們從 <code>io.Reader/io.Writer</code> 的源頭　<a href="https://pkg.go.dev/io?tab=doc" target="_blank" rel="noopener">package io</a> 官方文件開始說起，<a href="https://pkg.go.dev/io?tab=doc" target="_blank" rel="noopener">package io</a> 提供 I/O 原生的介面<em>(interfaces)</em>， 職責是提供<strong>抽象化介面</strong>並包裝<em>(warp)</em>現有的 I/O 操作與 <a href="https://pkg.go.dev/os?tab=doc" target="_blank" rel="noopener">package os</a> 等等…的功能實作，再加上一些相關的 I/O 原生操作功能。</p>
<p>因為這些介面和原生操作包裝了各種底層的實作，除非有另外說明，否則在平行處理下是不安全的。<br><em>=&gt; 查看原文 <a href="https://pkg.go.dev/io?tab=doc" target="_blank" rel="noopener">package io</a></em></p>
<p>再從 <a href="https://www.packtpub.com/programming/mastering-go-second-edition" target="_blank" rel="noopener">Mastering Go - Second Edition - 7. Go interfaces</a> 一書有提到 <code>io.Reader/io.Writer</code> 用來處理資料的輸入和輸出，更具體地說， <code>io.Reader</code> 是用來讀取資料， <code>io.Writer</code> 是寫入各種資料。</p>
<p><em>原文</em><br><blockquote><p>Two very common Go interfaces are <code>io.Reader</code> and <code>io.Writer</code> and they are used in file input and output operations. More specifically, <code>io.Reader</code> is used for reading from a file, whereas <code>io.Writer</code> is used for writing to a file of any type.</p>
<footer><strong>Mihalis Tsoukalos</strong><cite><a href="https://www.packtpub.com/programming/mastering-go-second-edition" target="_blank" rel="noopener">Go interfaces</a></cite></footer></blockquote></p>
<p>所以從上面兩篇文原文的結論來看，只要是有關資料的輸入與輸出就跟 <code>io.Reader/io.Writer</code> 脫離不了關係。</p>
<h2 id="看看-io-Writer"><a href="#看看-io-Writer" class="headerlink" title="看看 io.Writer"></a>看看 <a href="https://golang.org/pkg/io/#Writer" target="_blank" rel="noopener">io.Writer</a></h2><figure class="codeblock codeblock--tabbed"><figcaption><span>io.Writer</span><ul class="tabs"><li class="tab active">go</li></ul></figcaption><div class="tabs-content"><figure class="highlight go" style="display: block;"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Writer <span class="keyword">interface</span> {</span><br><span class="line">       Write(p []<span class="keyword">byte</span>) (n <span class="keyword">int</span>, err error) </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div></figure>
<p>讓我們來看更具體的 <a href="https://golang.org/pkg/io/#Writer" target="_blank" rel="noopener">io.Writer</a> 的文件是怎麼寫的。 </p>
<p>實作這個介面的的時候會將資料寫入底層的資料流，如果寫入資料流的時候有發生錯誤，則要停止寫入並回傳 error。 在寫入的時候，不能修改傳入的資料 <code>p []byte</code>。 最後回傳的 <code>n int</code> 是表示寫入了多少資料，在沒有錯誤的情況下 <code>n == len(p)</code>。<br><em>=&gt; 查看原文 <a href="https://golang.org/pkg/io/#Writer" target="_blank" rel="noopener">golang.org io.Writer</a></em></p>
<h3 id="從-bytes-Buffer-理解如何實作-io-Writer"><a href="#從-bytes-Buffer-理解如何實作-io-Writer" class="headerlink" title="從 bytes.Buffer 理解如何實作 io.Writer"></a>從 bytes.Buffer 理解如何實作 io.Writer</h3><p>看完 <code>io.Writer</code> 介面的定義後，讓我們從 Go Standard Library <a href="https://golang.org/pkg/bytes/#Buffer" target="_blank" rel="noopener">package bytes</a> 看怎麼實作 <code>io.Writer</code> 的。<br><figure class="codeblock codeblock--tabbed"><figcaption><span>bytes.Buffer</span><ul class="tabs"><li class="tab active">go</li></ul></figcaption><div class="tabs-content"><figure class="highlight go" style="display: block;"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Buffer <span class="keyword">struct</span> {</span><br><span class="line">	buf      []<span class="keyword">byte</span> <span class="comment">// contents are the bytes buf[off : len(buf)]</span></span><br><span class="line">	off      <span class="keyword">int</span>    <span class="comment">// read at &amp;buf[off], write at &amp;buf[len(buf)]</span></span><br><span class="line">	lastRead readOp <span class="comment">// last read operation, so that Unread* can work correctly.</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div></figure></p>
<p>在 <a href="https://golang.org/pkg/bytes/#Buffer" target="_blank" rel="noopener">package bytes</a> 裡面，有一個 Buffer struct ，其中有一個欄位 <code>buf []byte</code> 是用來儲存寫入的資料，在執行 write 方法的時候，會將資料寫進 <code>buf []byte</code>。</p>
<p>接下來來看 bytes.Buffer 是怎麼實作 <code>io.Writer</code>。</p>
<figure class="codeblock codeblock--tabbed"><figcaption><span>Buffer.Write</span><ul class="tabs"><li class="tab active">go</li></ul></figcaption><div class="tabs-content"><figure class="highlight go" style="display: block;"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Buffer)</span> <span class="title">Write</span><span class="params">(p []<span class="keyword">byte</span>)</span> <span class="params">(n <span class="keyword">int</span>, err error)</span></span> {</span><br><span class="line">	b.lastRead = opInvalid</span><br><span class="line">	m, ok := b.tryGrowByReslice(<span class="built_in">len</span>(p))</span><br><span class="line">	<span class="keyword">if</span> !ok {</span><br><span class="line">		m = b.grow(<span class="built_in">len</span>(p))</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">copy</span>(b.buf[m:], p), <span class="literal">nil</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div></figure>
<p><em>=&gt; 查看 <a href="https://golang.org/src/bytes/buffer.go?s=5642:5693#L158-L168" target="_blank" rel="noopener">source code</a></em></p>
<p>可以看到程式碼非常的簡單，前面的 <code>b.tryGrowByReslice</code> 與 <code>b.grow</code> 只是用來確保 <code>buf byte[]</code> 有足夠的容量可以完全寫入傳入的資料，而 <code>m</code> 則是要從 <code>buf []byte</code> 的哪一個位置開始寫入資料，第一次寫入的時候 <code>m</code> 會是 <code>0</code>。  在程式最後只是用 <code>copy</code> 的方式將資料寫入 <code>buf []byte</code>。</p>
<p>使用方法也是非常簡單，只要執行 write 將資料傳進去，就會把資料寫入 <code>buf []byte</code> 了。<br><figure class="codeblock codeblock--tabbed"><figcaption><span>write</span><ul class="tabs"><li class="tab active">go</li></ul></figcaption><div class="tabs-content"><figure class="highlight go" style="display: block;"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">	<span class="keyword">var</span> b bytes.Buffer</span><br><span class="line">	b.Write([]<span class="keyword">byte</span>(<span class="string">"Hello "</span>))</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div></figure></p>
<h2 id="看看-io-Reader"><a href="#看看-io-Reader" class="headerlink" title="看看 io.Reader"></a>看看 <a href="https://golang.org/pkg/io/#Reader" target="_blank" rel="noopener">io.Reader</a></h2><figure class="codeblock codeblock--tabbed"><figcaption><span>io.Reader</span><ul class="tabs"><li class="tab active">go</li></ul></figcaption><div class="tabs-content"><figure class="highlight go" style="display: block;"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Reader <span class="keyword">interface</span> { </span><br><span class="line">    Read(p []<span class="keyword">byte</span>) (n <span class="keyword">int</span>, err error) </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div></figure>
<p>接下來換到 <code>io.Reader</code> 的文件，</p>
<p>Read 會將資料寫入 <code>p []byte</code> ，如果資料大於傳入的 <code>len(p)</code>，則只會寫入 <code>len(p)</code> 的內容，並在下次 Read 的時候繼續寫入剩下的資料到 <code>p []byte</code>，以此邏輯繼續。 如果資料小於 <code>len(p)</code>，則只會寫入能寫的資料，但是並不會調整 <code>p []byte</code> 的大小。 最後回傳 <code>n int</code> 是表示寫入的多少資料到 <code>p []byte</code>。</p>
<p>在讀取結束的時候會有兩種情況，回傳 <code>n, nil</code> 然後在下一次讀取後回傳 <code>0, io.EOF</code> 或者是直接回傳 <code>n, io.EOF</code>。</p>
<div class="alert info"><p>io.EOF = End of File</p>
</div>
<p><em>=&gt; 查看原文 <a href="https://golang.org/pkg/io/#Reader" target="_blank" rel="noopener">golang.org io.Reader]</a></em></p>
<h3 id="從-bytes-Buffer-理解如何實作-io-Reader"><a href="#從-bytes-Buffer-理解如何實作-io-Reader" class="headerlink" title="從 bytes.Buffer 理解如何實作 io.Reader"></a>從 bytes.Buffer 理解如何實作 io.Reader</h3><p>接下來再來看 <a href="https://golang.org/pkg/bytes/#Buffer" target="_blank" rel="noopener">bytes.Buffer</a> 怎麼實作 <code>io.Reader</code> 。 </p>
<p>還記得剛剛說的 Buffer struct 嗎，這次我們要注意到兩個欄位。 一個是 <code>buf []byte</code>，在讀資料的時候會從 <code>buf []byte</code> 讀取。 一個是 <code>off int</code> 這是用來紀錄下次執行 Read 方法的時候，要從哪一個位置讀取。<br><figure class="codeblock codeblock--tabbed"><figcaption><span>bytes.Buffer</span><ul class="tabs"><li class="tab active">go</li></ul></figcaption><div class="tabs-content"><figure class="highlight go" style="display: block;"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Buffer <span class="keyword">struct</span> {</span><br><span class="line">	buf      []<span class="keyword">byte</span> <span class="comment">// contents are the bytes buf[off : len(buf)]</span></span><br><span class="line">	off      <span class="keyword">int</span>    <span class="comment">// read at &amp;buf[off], write at &amp;buf[len(buf)]</span></span><br><span class="line">	lastRead readOp <span class="comment">// last read operation, so that Unread* can work correctly.</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div></figure></p>
<p>接下來來看 bytes.Buffer 是怎麼實作 <code>io.Reader</code>。</p>
<figure class="codeblock codeblock--tabbed"><figcaption><span>bytes.Buffer.Read</span><ul class="tabs"><li class="tab active">go</li></ul></figcaption><div class="tabs-content"><figure class="highlight go" style="display: block;"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(b *Buffer)</span> <span class="title">Read</span><span class="params">(p []<span class="keyword">byte</span>)</span> <span class="params">(n <span class="keyword">int</span>, err error)</span></span> {</span><br><span class="line">	b.lastRead = opInvalid</span><br><span class="line">	<span class="keyword">if</span> b.empty() {</span><br><span class="line">		<span class="comment">// Buffer is empty, reset to recover space.</span></span><br><span class="line">		b.Reset()</span><br><span class="line">		<span class="keyword">if</span> <span class="built_in">len</span>(p) == <span class="number">0</span> {</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>, <span class="literal">nil</span></span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>, io.EOF</span><br><span class="line">	}</span><br><span class="line">	n = <span class="built_in">copy</span>(p, b.buf[b.off:])</span><br><span class="line">	b.off += n</span><br><span class="line">	<span class="keyword">if</span> n &gt; <span class="number">0</span> {</span><br><span class="line">		b.lastRead = opRead</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> n, <span class="literal">nil</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div></figure>
<p><em>=&gt; 查看 <a href="https://golang.org/src/bytes/buffer.go?s=9451:9501#L286" target="_blank" rel="noopener">source code</a></em></p>
<p>這程式碼也非常的簡單，第一段 <code>b.empty()</code> 用來判斷如果 <code>buf []byte</code> 讀取完畢，就準備回傳 <code>0, io.EOF</code>，而這一段的 <code>b.Reset()</code> 是將 <code>buf []byte</code> 資料清空，這表示資料讀取完畢後，就不能再讀取了。 第二段則是一樣用 <code>copy</code> 將資料寫入 <code>p []byte</code> ，並且用 <code>off</code> 來記錄資料寫到哪裡了，下次讀取得時候從 <code>off</code> 這個位置開始讀取。</p>
<p>使用方法也很簡單，如下列程式碼<br><figure class="codeblock codeblock--tabbed"><figcaption><span>Read</span><ul class="tabs"><li class="tab active">go</li></ul></figcaption><div class="tabs-content"><figure class="highlight go" style="display: block;"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> b bytes.Buffer</span><br><span class="line">	<span class="comment">// 寫入資料</span></span><br><span class="line">	b.Write([]<span class="keyword">byte</span>(<span class="string">"Hello Miles"</span>))</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 讀取資料</span></span><br><span class="line">	buf := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">4</span>)</span><br><span class="line">	<span class="keyword">for</span> {</span><br><span class="line">		n, err := b.Read(buf)</span><br><span class="line">		<span class="keyword">if</span> err == io.EOF {</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		}</span><br><span class="line">		fmt.Println(<span class="keyword">string</span>(buf[:n]))</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div></figure><br>因為資料長度有 11，但是我只有給長度 4 的 buf ，所以他會分 3 次讀取，輸出如下圖。<br><div class="figure center" style="width:;"><a class="fancybox" href="read-output.jpg" title="read output" data-caption="read output" data-fancybox="default"><img class="fig-img" src="read-output.jpg" alt="read output"></a><span class="caption">read output</span></div></p>
<h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><p>今天整理了這些資料，有找到一個簡單得邏輯就是 io.Writer 是將資料寫入資料流，今天實作得例子是從傳入的 <code>p []byte</code> 寫入到 <code>buf []byte</code>。 而 io.Reader 則是相反，從 <code>buf []byte</code> 寫入 <code>p []byte</code>。 並且都是用 copy 方式將資料寫入而已，實作上並不太複雜。</p>
<p>所以實際上他的用法並不是太複雜，那問題來了，為什麼需要這種方式來讀取寫入資料呢? =&gt; 請看下篇文章</p>

            

        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/Go/">Go</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2020/07/Golang/gorilla-sessions/" data-tooltip="[Go] Gorilla Sessions" aria-label="NEXT: [Go] Gorilla Sessions">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/" title="Share on Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/" title="Share on Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/" title="Share on Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#disqus_thread">
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 Miles. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--disabled">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2020/07/Golang/gorilla-sessions/" data-tooltip="[Go] Gorilla Sessions" aria-label="NEXT: [Go] Gorilla Sessions">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/" title="Share on Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/" title="Share on Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/" title="Share on Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#disqus_thread">
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/">
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Share on Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/">
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Share on Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/">
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Share on Google+</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="https://www.gravatar.com/avatar/05bae9a97d25f82a00f54f2e2b8a3320?s=110" alt="Author&#39;s picture">
        
            <h4 id="about-card-name">Miles</h4>
        
            <div id="about-card-bio"><p>I’m a person who is enthusiastic about Coding, and that’s my job by the way.</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br>
                <p>Web Developer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br>
                Taiwan
            </div>
        
    </div>
</div>

        
            <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-times"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search" class="form-control input--large search-input" placeholder="Search ">
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">no post found</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://mileslin.github.io/2016/12/動態指定泛型型別/">
                            <h3 class="media-heading">[C#] 動態指定泛型型別</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Dec 30, 2016
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>今天為了程式能寫好看一點，一直在糾結怎麼指定動態泛型，</p>
<p>但是想想實用性好像不太大，可是把這技術忘掉太可惜XD</p>
<p>還是記錄下來，以防忘記<br></p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://mileslin.github.io/2017/01/Anatomy-of-an-Angular-2-Application/">
                            <img class="media-image" src="https://mileslin.github.io/2017/01/Anatomy-of-an-Angular-2-Application/1_Comprised-of-Angular2.jpg" width="90" height="90">
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://mileslin.github.io/2017/01/Anatomy-of-an-Angular-2-Application/">
                            <h3 class="media-heading">[Angular] Anatomy of an Angular Application</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Jan 28, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="Application"><a href="#Application" class="headerlink" title="Application"></a>Application</h2><p><strong>Angular2 Application</strong> 的都是由Component組合而成的，而Services則就是提供功能，可以在Component之間使用。<br></p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://mileslin.github.io/2017/01/Angular2-Modules/">
                            <h3 class="media-heading">[Angular] Angular Modules</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Jan 30, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>javascrip一直存在著Namespaces的問題，意思是指很容易將variables或者functions定義在global namespace。  另一方面javascript並沒有提供管理javascript code的方式。</p>
<!-- classes : info success warning danger no-icon -->
<div class="alert info"><p>Modules 幫我們解決了這個問題</p>
</div></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://mileslin.github.io/2017/02/Bootstrapping-App-Component/">
                            <img class="media-image" src="https://mileslin.github.io/2017/02/Bootstrapping-App-Component/flow.jpg" width="90" height="90">
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://mileslin.github.io/2017/02/Bootstrapping-App-Component/">
                            <h3 class="media-heading">[Angular] Bootstrapping App Component</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Feb 2, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>今天要說明的是Angular是如何Bootstrapping Component的。  我們會從 pluralsight的課程 <a href="https://app.pluralsight.com/library/courses/angular-2-getting-started-update/table-of-contents" title="Angular 2: Getting Started" target="_blank" rel="noopener">Angular 2: Getting Started</a> 提供的 <a href="https://github.com/DeborahK/Angular2-GettingStarted/tree/master/APM%20-%20Start" title="Angular 2: Getting Started" target="_blank" rel="noopener">Github範例</a> 做說明。<br></p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://mileslin.github.io/2017/02/Binding-syntax/">
                            <h3 class="media-heading">[Angular] Binding syntax</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Feb 4, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>要從class將資料繫結到template上面，Angular有四種方式。</p>
<ul>
<li>內嵌繫結 ( Interpolation )</li>
<li>屬性繫結 ( Property Binding )</li>
<li>事件繫結 ( Event Binding )</li>
<li>雙向繫結 ( Two-way Binding )</li>
</ul></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://mileslin.github.io/2017/02/Routing-Basics/">
                            <img class="media-image" src="https://mileslin.github.io/2017/02/Routing-Basics/1_Two_Component.jpg" width="90" height="90">
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://mileslin.github.io/2017/02/Routing-Basics/">
                            <h3 class="media-heading">[Angular] Routing Basics</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Feb 8, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>今天要介紹Angular Routing提供了View之間切換的功能，以及如何使用跟怎麼設定。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://mileslin.github.io/2017/02/Navigation-and-Routing-Additional-Techniques/">
                            <h3 class="media-heading">[Angular] Navigation and Routing Additional Techniques</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Feb 9, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><a href="https://mileslin.github.io/2017/02/Routing-Basics/" title="Routing-Basics">上一篇Routing Basics</a> 介紹基本用法後，今天要來多加說明如何帶參數，以及如何使用程式碼navigate到其他route。<br><br></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://mileslin.github.io/2017/02/Protecting-Routes-with-Guards/">
                            <h3 class="media-heading">[Angular] Protecting Routes with Guards</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Feb 11, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>預設的情況下，任何user都是可以瀏覽到route有對應到的網址，這並不是一個好的情況。 通常會有需要一些權限的控管。<br></p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-left">
                        <a class="link-unstyled" href="https://mileslin.github.io/2017/02/NgModule-Decorator/">
                            <img class="media-image" src="https://mileslin.github.io/2017/02/NgModule-Decorator/2_ImportTruth.jpg" width="90" height="90">
                        </a>
                    </div>
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://mileslin.github.io/2017/02/NgModule-Decorator/">
                            <h3 class="media-heading">[Angular] NgModule Decorator</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Feb 13, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>再深入講NgModule之前，要先說明App.Module的Decorator使用的一些原則。<br></p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a class="link-unstyled" href="https://mileslin.github.io/2017/02/Dive-into-Angular-Modules/">
                            <h3 class="media-heading">[Angular] Dive into Angular Modules</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    Feb 14, 2017
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>今天要說明如何整合多個Angular Module，讓程式碼職責跟清晰，更好維護。<br></p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium" data-message-zero="no post found" data-message-one="1 post found" data-message-other="{n} posts found">
                98 posts found
            </p>
        </div>
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-dbd16rvloemmuxdzniplmnxxvwoz24eya9wol0b7vvmlokgqsjivmb8dnscy.min.js"></script>
<!--SCRIPTS END-->

    
        <script>
             var disqus_config = function () {
                 this.page.url = 'https://mileslin.github.io/2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/';
                 
                    this.page.identifier = '2020/07/Golang/io-Writer-與-io-Reader-的來龍去脈/';
                 
             };
            (function() {
                var d = document, s = d.createElement('script');
                var disqus_shortname = 'https-mileslin-github-io';
                s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
    


    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment-with-locales.min.js"></script>
    <script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
    <script>
        var algoliaClient = algoliasearch('L9G904WBYQ', '771bd925856042416e867f07ce03375a');
        var algoliaIndex = algoliaClient.initIndex('tranquilpeak');
    </script>


    </body>
</html>
